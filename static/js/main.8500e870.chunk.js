(this.webpackJsonpprodutime=this.webpackJsonpprodutime||[]).push([[0],{134:function(e,t,c){},143:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(45),i=c.n(n),o=(c(134),c(208)),s=c(79),j=c(198),l=c(22),u=c(105),d=c(204),b=c(2),O=["children","sx"];function x(e){var t=e.children,c=e.sx,r=Object(u.a)(e,O);return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({sx:Object(l.a)(Object(l.a)({},c),{},{backgroundColor:"#fff",color:"#1976D2","&:hover":{backgroundColor:"#fff",color:"#1565C0"}})},r),{},{children:t}))}var p=c(209),f=c(211),h=c(212),m=c(183),v=c(182),g=c(110),y=function(e){return e<10?"0".concat(Math.floor(e)):"".concat(Math.floor(e))};function C(e){var t=e.offsetTimestamp,c=Object(g.useStopwatch)({autoStart:!0,offsetTimestamp:t}),r=c.seconds,a=c.minutes,n=c.hours,i=c.days;return Object(b.jsxs)(s.a,{variant:"h4",children:[y(n+24*i),":",y(a),":",y(r)]})}var T=c(0),k=c.n(T),E=c(3),w=c(4),S=c(19),I=c(32),P=c(23);function A(e,t){var c,r;switch(t.type){case"CREATE_TIMER":return Object(l.a)(Object(l.a)({},e),{},{activeTimers:[{createdAt:t.payload.createdAt,projectId:t.payload.projectId}].concat(Object(P.a)(e.activeTimers))});case"SET_STATE":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload.user,projects:null!==(c=t.payload.projects)&&void 0!==c?c:{},timers:null!==(r=t.payload.timers)&&void 0!==r?r:[]});case"STOP_TIMER":return Object(l.a)(Object(l.a)({},e),{},{activeTimers:e.activeTimers.filter((function(e){return e.createdAt.toMillis()!==t.payload.createdAt.toMillis()})),timers:[t.payload].concat(Object(P.a)(e.timers))});case"SET_PROJECT":return Object(l.a)(Object(l.a)({},e),{},{projects:Object(l.a)(Object(l.a)({},e.projects),{},Object(E.a)({},t.payload.id,t.payload.project))});default:return e}}var M=c(111),R=c(92),F=Object(M.a)({apiKey:"AIzaSyBohetEQXVTK6kEq8VS2yHqZJcqqCC7fj0",authDomain:"produtime-fa9af.firebaseapp.com",projectId:"produtime-fa9af",storageBucket:"produtime-fa9af.appspot.com",messagingSenderId:"545474059112",appId:"1:545474059112:web:040ab7ea733a75652794dd",measurementId:"G-45144WT77B"}),_=Object(R.b)(F),D=Object(I.f)(F);function J(){return B.apply(this,arguments)}function B(){return(B=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new R.a,e.next=4,Object(R.c)(_,t);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function L(){try{_.signOut()}catch(e){}}var q={activeTimers:[],user:_.currentUser,projects:{},timers:[]},G=Object(r.createContext)(q);function N(e){var t=e.children,c=Object(r.useReducer)(A,q),a=Object(S.a)(c,2),n=a[0],i=a[1];Object(r.useEffect)((function(){_.onAuthStateChanged(function(){var e=Object(w.a)(k.a.mark((function e(t){var c,r,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==t){e.next=4;break}return i({type:"SET_STATE",payload:{user:t}}),e.abrupt("return");case 4:return e.next=6,Object(I.e)(Object(I.c)(D,"users",t.uid,"projects"));case 6:return c=e.sent,e.next=9,Object(I.e)(Object(I.h)(Object(I.c)(D,"users",t.uid,"timers"),Object(I.g)("createdAt","desc")));case 9:r=e.sent,a=c.docs.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(E.a)({},t.id,t.data()))}),{}),n=r.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})),i({type:"SET_STATE",payload:{user:t,projects:a,timers:n}}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=function(){var e=Object(w.a)(k.a.mark((function e(t){var c,r,a,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,r=t.colour,a=t.uid,e.prev=1,n={name:c,colour:r},e.next=5,Object(I.b)(Object(I.c)(D,"users",a,"projects"),n);case 5:o=e.sent,i({type:"SET_PROJECT",payload:{id:o.id,project:n}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(w.a)(k.a.mark((function e(t){var c,r,a,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,r=t.name,a=t.colour,n=t.uid,e.prev=1,o={name:r,colour:a},e.next=5,Object(I.i)(Object(I.d)(D,"users",n,"projects",c),o);case 5:i({type:"SET_PROJECT",payload:{id:c,project:o}}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(k.a.mark((function e(t){var c,r,a,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.createdAt,r=t.projectId,a=t.uid,e.prev=1,n={createdAt:c,endedAt:I.a.now(),projectId:r},e.next=5,Object(I.b)(Object(I.c)(D,"users",a,"timers"),n);case 5:o=e.sent,i({type:"STOP_TIMER",payload:Object(l.a)(Object(l.a)({},n),{},{id:o.id})}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(G.Provider,{value:Object(l.a)(Object(l.a)({},n),{},{createProject:o,updateProject:s,createTimer:function(e){var t=e.projectId,c={createdAt:I.a.now(),projectId:t};i({type:"CREATE_TIMER",payload:c})},stopTimer:j}),children:t})}var V={red:"#ef9a9a",pink:"#f48fb1",purple:"#ce93d8",deepPurple:"#b39ddb",indigo:"#9fa8da",blue:"#90caf9",lightBlue:"#81d4fa",cyan:"#80deea",teal:"#80cbc4",green:"#a5d6a7",lightGreen:"#c5e1a5",lime:"#e6ee9c",yellow:"#fff59d",amber:"#ffe082",orange:"#ffcc80",deepOrange:"#ffab91"};function Y(){var e=Object(r.useContext)(G),t=e.activeTimers,c=e.projects,a=e.user,n=e.stopTimer;function i(e){n(Object(l.a)(Object(l.a)({},t.find((function(t){return t.createdAt.toMillis()===+e.currentTarget.dataset.created}))),{},{uid:a.uid}))}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{sx:{display:"flex",flex:1,padding:1,overflow:"auto",scrollbarWidth:"thin","&::-webkit-scrollbar":{height:"10px"},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",backgroundColor:"#D3D3D3"}},children:Object(b.jsx)(o.a,{sx:{display:"flex",minHeight:"min-content"},children:t.map((function(e){var t=c[e.projectId]||{},r=e.createdAt.toMillis();return Object(b.jsxs)(p.a,{sx:{backgroundColor:V[t.colour],margin:1,width:275},children:[Object(b.jsxs)(f.a,{children:[Object(b.jsx)(C,{offsetTimestamp:r}),Object(b.jsx)(s.a,{variant:"subtitle1",color:"text.secondary",children:t.name})]}),Object(b.jsx)(h.a,{children:Object(b.jsx)(d.a,{color:"inherit","data-created":r,onClick:i,startIcon:Object(b.jsx)(v.a,{}),children:"Stop Timer"})})]},r)}))})}),t.length>0&&Object(b.jsx)(m.a,{variant:"middle"})]})}var W=c(213),X=c(214),K=c(205);function H(){var e=Object(r.useContext)(G),t=e.projects,c=e.timers,a=c.reduce((function(e,t){var c=t.createdAt.toDate().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return void 0===e[c]?Object(l.a)(Object(l.a)({},e),{},Object(E.a)({},c,[t])):Object(l.a)(Object(l.a)({},e),{},Object(E.a)({},c,[t].concat(Object(P.a)(e[c]))))}),{});return Object(b.jsx)(b.Fragment,{children:0!==c.length?Object.keys(a).map((function(e){return Object(b.jsxs)(o.a,{children:[Object(b.jsx)(s.a,{sx:{marginX:3},variant:"overline",children:e}),a[e].map((function(e){return Object(b.jsx)(p.a,{elevation:0,children:Object(b.jsx)(W.a,{children:Object(b.jsxs)(X.a,{children:[Object(b.jsx)(K.a,{label:(c=e.endedAt.toMillis()-e.createdAt.toMillis(),"".concat(y(c/36e5%24),":").concat(y(c/6e4%60),":").concat(y(c/1e3%60))),sx:{backgroundColor:V[t[e.projectId].colour]}}),Object(b.jsx)(s.a,{sx:{marginX:1},children:t[e.projectId].name})]})})},e.id);var c}))]},e)})):Object(b.jsxs)(o.a,{sx:{marginY:2,padding:2,textAlign:"center"},children:[Object(b.jsx)(s.a,{variant:"h4",children:"No timers yet!"}),Object(b.jsx)(s.a,{sx:{marginY:1},children:"Create a project and start a timer with the button above"})]})})}var U=c(224),z=c(215),Q=c(206),Z=c(116),$=c(218),ee=c(188),te=c(189);function ce(){var e=Object(r.useContext)(G).user,t=Object(r.useState)(null),c=Object(S.a)(t,2),a=c[0],n=c[1],i=Boolean(a);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(z.a,{onClick:function(e){n(e.currentTarget)},children:Object(b.jsx)(Q.a,{src:e.photoURL})}),Object(b.jsx)(Z.a,{anchorEl:a,open:i,onClose:function(){n(null)},children:Object(b.jsxs)($.a,{onClick:L,children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(te.a,{})}),"Sign Out"]})})]})}var re=c(223),ae=c(192),ne=c(197),ie=c(194),oe=c(190),se=c(217),je=c(202),le=c(191),ue=c(193),de=c(219),be=c(201),Oe=c(200),xe=c(222);function pe(e){var t,c,a,n,i=e.handleClose,s=Object(r.useContext)(G),j=s.projects,u=s.user.uid,O=s.createProject,x=s.updateProject,p=Object(r.useState)("PROJECT_LIST"),f=Object(S.a)(p,2),h=f[0],m=f[1],v=Object(r.useState)({}),g=Object(S.a)(v,2),y=g[0],C=g[1];return Object(b.jsx)(b.Fragment,{children:"PROJECT_LIST"===h?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(oe.a,{children:"Manage Projects"}),Object(b.jsxs)(se.a,{sx:{pt:0},children:[Object(b.jsx)(je.a,{disableGutters:!0,children:Object(b.jsxs)(le.a,{onClick:function(){return m("NEW_PROJECT")},children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(ae.a,{})}),Object(b.jsx)(ue.a,{children:"New Project"})]})}),Object.entries(j).map((function(e){var t=Object(S.a)(e,2),c=t[0],r=t[1];return Object(b.jsx)(je.a,{disableGutters:!0,children:Object(b.jsxs)(le.a,{onClick:function(){return m(c)},children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(ie.a,{sx:{color:V[r.colour]}})}),Object(b.jsx)(ue.a,{children:r.name})]})},c)}))]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(oe.a,{children:j[h]?"Edit Project":"Create New Project"}),Object(b.jsxs)(de.a,{sx:{display:"flex",gap:1},children:[Object(b.jsx)(be.a,{defaultValue:null!==(t=null===(c=j[h])||void 0===c?void 0:c.colour)&&void 0!==t?t:"",displayEmpty:!0,onChange:function(e){return C(Object(l.a)(Object(l.a)({},y),{},{colour:e.target.value}))},renderValue:function(e){var t;return Object(b.jsx)(o.a,{sx:{display:"flex",gap:1},children:Object(b.jsx)(ie.a,{sx:{color:null!==(t=V[e])&&void 0!==t?t:"lightgray"}})})},required:!0,variant:"standard",children:Object.entries(V).map((function(e){var t=Object(S.a)(e,2),c=t[0],r=t[1];return Object(b.jsx)($.a,{value:c,children:Object(b.jsx)(ie.a,{sx:{color:r}})},c)}))}),Object(b.jsx)(Oe.a,{defaultValue:null!==(a=null===(n=j[h])||void 0===n?void 0:n.name)&&void 0!==a?a:"",onChange:function(e){return C(Object(l.a)(Object(l.a)({},y),{},{name:e.target.value}))},placeholder:"My Project Name",required:!0,sx:{transform:"translateY(1px)"},variant:"standard"})]}),Object(b.jsxs)(xe.a,{children:[Object(b.jsx)(d.a,{onClick:i,children:"Cancel"}),Object(b.jsx)(d.a,{onClick:function(){if(j[h]){var e,t;x({id:h,name:null!==(e=y.name)&&void 0!==e?e:j[h].name,colour:null!==(t=y.colour)&&void 0!==t?t:j[h].colour,uid:u})}else{if(void 0===y.name||void 0===y.colour)return;O({name:y.name,colour:y.colour,uid:u})}i()},children:"Confirm"})]})]})})}function fe(e){var t=Object(r.useContext)(G),c=t.createTimer,a=t.projects,n=Object(r.useState)(null),i=Object(S.a)(n,2),o=i[0],s=i[1],j=Object(r.useState)(!1),u=Object(S.a)(j,2),d=u[0],O=u[1],p=Boolean(o),f=function(){s(null)},h=function(){O(!1)};function v(e){f(),c({projectId:e.currentTarget.dataset.id})}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,Object(l.a)(Object(l.a)({onClick:function(e){s(e.currentTarget)},startIcon:Object(b.jsx)(ae.a,{}),variant:"contained"},e),{},{children:"New Timer"})),Object(b.jsxs)(Z.a,{anchorEl:o,open:p,onClose:f,children:[Object(b.jsxs)($.a,{onClick:function(){f(),O(!0)},children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(ne.a,{})}),"Manage Projects"]}),0!==Object.keys(a).length&&Object(b.jsx)(m.a,{variant:"middle"}),Object.entries(a).map((function(e){var t=Object(S.a)(e,2),c=t[0],r=t[1];return Object(b.jsxs)($.a,{"data-id":c,onClick:v,children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(ie.a,{sx:{color:V[r.colour]}})}),r.name]},c)}))]}),Object(b.jsx)(re.a,{onClose:h,open:d,children:Object(b.jsx)(pe,{handleClose:h})})]})}function he(){return Object(b.jsx)(U.a,{sx:{position:"static"},children:Object(b.jsxs)(X.a,{children:[Object(b.jsx)(s.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:"Produtime"}),Object(b.jsxs)(o.a,{sx:{marginLeft:"auto",marginRight:0},children:[Object(b.jsx)(fe,{sx:{marginX:1}}),Object(b.jsx)(ce,{})]})]})})}function me(){var e=Object(r.useContext)(G).user;return Object(b.jsx)(b.Fragment,{children:e?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(he,{}),Object(b.jsx)(Y,{}),Object(b.jsx)(H,{})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.a,{sx:{alignItems:"center",backgroundColor:"#1976D2",display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",padding:2,textAlign:"center"},children:[Object(b.jsx)(s.a,{variant:"h3",sx:{color:"#fff"},children:"Produtime"}),Object(b.jsx)(s.a,{sx:{color:"#fff",marginY:1},children:"Keep track of the time you spend being productive"}),Object(b.jsx)(x,{onClick:J,startIcon:Object(b.jsx)(j.a,{}),sx:{marginY:1},variant:"outline",children:"Sign In with Google"})]})})})}var ve=function(){return Object(b.jsx)(N,{children:Object(b.jsx)(me,{})})},ge=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,225)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),r(e),a(e),n(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[143,1,2]]]);
//# sourceMappingURL=main.8500e870.chunk.js.map